<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Chapter14 ：Continuous by continuous by categorical interactions - Alex_Wang</title><meta name="Description" content="This chapter considers models that involve the interaction of two categorical predictors with a linear continuous predictor."><meta property="og:title" content="Chapter14 ：Continuous by continuous by categorical interactions" />
<meta property="og:description" content="This chapter considers models that involve the interaction of two categorical predictors with a linear continuous predictor." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://forest293.github.io/14.chapter14continuous-by-categorical-by-categorical-interactions/" /><meta property="og:image" content="https://forest293.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-13T16:29:41+08:00" />
<meta property="article:modified_time" content="2024-01-13T23:45:40+08:00" /><meta property="og:site_name" content="Alex_Wang" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://forest293.github.io/logo.png"/>

<meta name="twitter:title" content="Chapter14 ：Continuous by continuous by categorical interactions"/>
<meta name="twitter:description" content="This chapter considers models that involve the interaction of two categorical predictors with a linear continuous predictor."/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://forest293.github.io/14.chapter14continuous-by-categorical-by-categorical-interactions/" /><link rel="prev" href="https://forest293.github.io/15.chapter15multilevel-models/" /><link rel="next" href="https://forest293.github.io/17.chapter17time-as-a-categorical-predictor/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Chapter14 ：Continuous by continuous by categorical interactions",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/forest293.github.io\/14.chapter14continuous-by-categorical-by-categorical-interactions\/"
        },"image": ["https:\/\/forest293.github.io\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "Interaction, stata","wordcount":  1628 ,
        "url": "https:\/\/forest293.github.io\/14.chapter14continuous-by-categorical-by-categorical-interactions\/","datePublished": "2024-01-13T16:29:41+08:00","dateModified": "2024-01-13T23:45:40+08:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": "https:\/\/forest293.github.io\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "Alex_Wang"
            },"description": "This chapter considers models that involve the interaction of two categorical predictors with a linear continuous predictor."
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Alex_Wang">Alex Wang</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 所有文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/categories/documentation/"> 文档 </a><a class="menu-item" href="/about/"> 关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a><a href="javascript:void(0);" class="menu-item language" title="选择语言">
                    <i class="fa fa-globe" aria-hidden="true"></i>                      
                    <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/14.chapter14continuous-by-categorical-by-categorical-interactions/" selected>简体中文</option></select>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Alex_Wang">Alex Wang</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="搜索文章标题或内容..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">所有文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/categories/documentation/" title="">文档</a><a class="menu-item" href="/about/" title="">关于</a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="选择语言">
                    <i class="fa fa-globe fa-fw" aria-hidden="true"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/14.chapter14continuous-by-categorical-by-categorical-interactions/" selected>简体中文</option></select>
                </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Chapter14 ：Continuous by continuous by categorical interactions</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Alex_Wang</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/interpreting-and-visualizing-regression-models-using-stata/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Interpreting and Visualizing Regression Models Using Stata</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2024-01-13">2024-01-13</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;约 1628 字&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;预计阅读 4 分钟&nbsp;<span id="/14.chapter14continuous-by-categorical-by-categorical-interactions/" class="leancloud_visitors" data-flag-title="Chapter14 ：Continuous by continuous by categorical interactions">
                        <i class="far fa-eye fa-fw" aria-hidden="true"></i>&nbsp;<span class=leancloud-visitors-count></span>&nbsp;次阅读
                    </span>&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#1-chapter-overview">1 Chapter overview</a></li>
    <li><a href="#2-simple-effects-of-gender-on-the-age-slope">2 Simple effects of gender on the age slope</a></li>
    <li><a href="#3-simple-effects-of-education-on-the-age-slope">3 Simple effects of education on the age slope</a></li>
    <li><a href="#4-simple-contrasts-on-education-for-the-age-slope">4 Simple contrasts on education for the age slope</a></li>
    <li><a href="#5-partial-interaction-on-education-for-the-age-slope">5 Partial interaction on education for the age slope</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>This chapter considers models that involve the interaction of two categorical predictors with a linear continuous predictor.</p>
<h2 id="1-chapter-overview">1 Chapter overview</h2>
<p>This chapter blends these two modeling techniques by exploring how the slope of the continuous variable varies as a function of the interaction of the two categorical variables.</p>
<p>Let’s consider a hypothetical example of a model with income as the outcome variable. The predictors include gender (a two-level categorical variable), education (treated as a three-level categorical variable), and age (a continuous variable). Income can be modeled as a function of each of the predictors, as well as the interactions of all the predictors.</p>
<p>A three-way interaction of age by gender by education would imply that the effect of age interacts with gender by education. One way to visualize such an interaction would be to graph age on the $x$ axis, with separate lines for the levels of education and separate graphs for gender.</p>
<figure style="text-align:center;">
  <img src="https://cdn.jsdelivr.net/gh/forest293/Hugo-image/2024.1.13.1.png" style="width:650px;height:450px;" alt="图片描述">
  <figcaption><strong>Fitted values of income as a function of age, education, and gender</strong></figcaption>
</figure>
<figure style="text-align:center;">
  <img src="https://cdn.jsdelivr.net/gh/forest293/Hugo-image/2024.1.13.2.png" style="width:450px;height:150px;" alt="图片描述">
  <figcaption><strong>The age slope by level of education and gender</strong></figcaption>
</figure>
<p>But consider the differences in the age slopes between females and males at each level of education. This difference is $-250 (150-400)$ for non–high school graduates, whereas this difference is $-350 (250-600)$ for high school graduates, and the difference is $-700 (600-1300)$ for college graduates. The difference in the age slopes between females and males seems to be much larger for college graduates than for high school graduates and non–high school graduates.</p>
<p>Let’s explore this in more detail with an example using the GSS dataset. To focus on the linear effect of age, we will keep those who are 22 to 55 years old.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  use gss_ivrm.dta
</span></span><span class="line"><span class="cl">  keep if (age&gt;=22 &amp; age&lt;=55)
</span></span><span class="line"><span class="cl">  reg realrinc i.gender##i.educ3##c.age i.race,vce(robust) noci
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>    Linear regression                               Number of obs     =     25,718
                                                    F(13, 25704)      =     411.30
                                                    Prob &gt; F          =     0.0000
                                                    R-squared         =     0.1839
                                                    Root MSE          =      23556
    
    -----------------------------------------------------------
                       |               Robust
              realrinc | Coefficient  std. err.      t    P&gt;|t|
    -------------------+---------------------------------------
                gender |
               Female  |    1337.13    1693.69     0.79   0.430
                       |
                 educ3 |
                   HS  |     550.48    1782.19     0.31   0.757
                 Coll  |  -11156.10    2618.98    -4.26   0.000
                       |
          gender#educ3 |
            Female#HS  |     783.10    2021.65     0.39   0.698
          Female#Coll  |    7657.91    3164.30     2.42   0.016
                       |
                   age |     413.87      45.62     9.07   0.000
                       |
          gender#c.age |
               Female  |    -264.98      50.66    -5.23   0.000
                       |
           educ3#c.age |
                   HS  |     175.85      54.75     3.21   0.001
                 Coll  |     897.33      77.47    11.58   0.000
                       |
    gender#educ3#c.age |
            Female#HS  |     -80.31      60.95    -1.32   0.188
          Female#Coll  |    -414.66      93.27    -4.45   0.000
                       |
                  race |
                black  |   -2935.14     273.33   -10.74   0.000
                other  |     185.40     956.34     0.19   0.846
                       |
                 _cons |    2691.23    1495.78     1.80   0.072
    -----------------------------------------------------------
</code></pre>
<p>Let’s test the interaction of gender, education, and age using the contrast command below. The three-way interaction is significant.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  contrast i.gender#i.educ3#c.age
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>    Contrasts of marginal linear predictions
    
    Margins: asbalanced
    
    ------------------------------------------------------
                       |         df           F        P&gt;F
    -------------------+----------------------------------
    gender#educ3#c.age |          2       10.17     0.0000
                       |
           Denominator |      25704
    ------------------------------------------------------
</code></pre>
<p>To begin the process of interpreting the three-way interaction, let’s create a graph of the adjusted means as a function of age, education, and gender.</p>
<p><strong>compute the adjusted means by gender and education for age 22 and 55</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  margins gender#educ3,at(age=(22 55)) 
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>    Predictive margins                                      Number of obs = 25,718
    Model VCE: Robust
    
    Expression: Linear prediction, predict()
    1._at: age = 22
    2._at: age = 55
    
    ----------------------------------------------------------------------------------
                     |            Delta-method
                     |     Margin   std. err.      t    P&gt;|t|     [95% conf. interval]
    -----------------+----------------------------------------------------------------
    _at#gender#educ3 |
      1#Male#not hs  |   11404.29     542.03    21.04   0.000     10341.88    12466.70
          1#Male#HS  |   15823.46     349.34    45.29   0.000     15138.72    16508.20
        1#Male#Coll  |   19989.51     916.25    21.82   0.000     18193.61    21785.41
    1#Female#not hs  |    6911.76     353.90    19.53   0.000      6218.10     7605.42
        1#Female#HS  |   10347.31     219.71    47.10   0.000      9916.67    10777.95
      1#Female#Coll  |   14032.45     620.38    22.62   0.000     12816.47    15248.44
      2#Male#not hs  |   25061.99    1080.61    23.19   0.000     22943.94    27180.03
          2#Male#HS  |   35284.20     738.38    47.79   0.000     33836.93    36731.46
        2#Male#Coll  |   63259.18    1510.70    41.87   0.000     60298.13    66220.24
    2#Female#not hs  |   11824.98     475.99    24.84   0.000     10892.02    12757.94
        2#Female#HS  |   18413.49     363.95    50.59   0.000     17700.13    19126.85
      2#Female#Coll  |   34873.99    1089.16    32.02   0.000     32739.18    37008.81
    ----------------------------------------------------------------------------------
</code></pre>
<p><strong>the figure illustrates how the age slope varies as a function of gender and education.</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  marginsplot,bydimension(gender)noci 
</span></span></code></pre></td></tr></table>
</div>
</div><figure style="text-align:center;">
  <img src="https://cdn.jsdelivr.net/gh/forest293/Hugo-image/2024.1.13.3.png" style="width:650px;height:450px;" alt="图片描述">
  <figcaption><strong>Fitted values of income as a function of age, education, and gender</strong></figcaption>
</figure>
<p>The graph in figure illustrates how the age slope varies as a function of gender and education.</p>
<p>Let’s compute the age slope for each of the lines shown in this graph. The margins command is used with the dydx(age) and over() options to compute the age slopes separately for each combination of gender and education.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  margins,noci dydx(age) over(gender educ3)
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>    Average marginal effects                                Number of obs = 25,718
    Model VCE: Robust
    
    Expression: Linear prediction, predict()
    dy/dx wrt:  age
    Over:       gender educ3
    
    -------------------------------------------------------
                   |            Delta-method
                   |      dy/dx   std. err.      t    P&gt;|t|
    ---------------+---------------------------------------
    age            |
      gender#educ3 |
      Male#not hs  |     413.87      45.62     9.07   0.000
          Male#HS  |     589.72      30.38    19.41   0.000
        Male#Coll  |    1311.20      62.88    20.85   0.000
    Female#not hs  |     148.89      22.09     6.74   0.000
        Female#HS  |     244.43      15.25    16.02   0.000
      Female#Coll  |     631.56      46.91    13.46   0.000
    -------------------------------------------------------
</code></pre>
<figure style="text-align:center;">
  <img src="https://cdn.jsdelivr.net/gh/forest293/Hugo-image/2024.1.13.4.png" style="width:750px;height:250px;" alt="图片描述">
  <figcaption><strong>The age slope by level of education and gender</strong></figcaption>
</figure>
<h2 id="2-simple-effects-of-gender-on-the-age-slope">2 Simple effects of gender on the age slope</h2>
<p>We can use the contrast command to test the simple effect of gender on the age slope. This is illustrated below.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  contrast gender#c.age@educ3,nowald pveffects
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>    Contrasts of marginal linear predictions
    
    Margins: asbalanced
    
    -----------------------------------------------------------------
                             |   Contrast   Std. err.      t    P&gt;|t|
    -------------------------+---------------------------------------
          gender@educ3#c.age |
    (Female vs base) not hs  |    -264.98      50.66    -5.23   0.000
        (Female vs base) HS  |    -345.29      33.99   -10.16   0.000
      (Female vs base) Coll  |    -679.64      78.45    -8.66   0.000
    -----------------------------------------------------------------
</code></pre>
<p>The first test compares the age slope for females versus males among non–high school graduates. Referring to table 14.2, this test compares $\beta\tiny 1F$with$\beta\tiny 1M$ . The difference in these age slopes is $-264.98(148.89 - 413.87)$, and this difference is significant. The age slope for females who did not graduate high school is 264.98 units smaller than the age slope for males who did not graduate high school.</p>
<p>The second test is similar to the first, except the comparison is made among high school graduates, comparing $\beta\tiny 2F$ with $\beta\tiny 2M$ from table 14.2. This test is also significant.</p>
<p>The third test compares the age slope between females and males among college graduates (that is, comparing $\beta\tiny 3F$ with $\beta\tiny 3M$ ). This test is also significant.</p>
<h2 id="3-simple-effects-of-education-on-the-age-slope">3 Simple effects of education on the age slope</h2>
<p>We can also look at the simple effects of education on the age slope at each level of gender.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  contrast educ3#c.age@gender
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>    Contrasts of marginal linear predictions
    
    Margins: asbalanced
    
    ------------------------------------------------------
                       |         df           F        P&gt;F
    -------------------+----------------------------------
    educ3@gender#c.age |
                 Male  |          2       70.96     0.0000
               Female  |          2       43.37     0.0000
                Joint  |          4       57.21     0.0000
                       |
           Denominator |      25704
    ------------------------------------------------------
</code></pre>
<p>The first test compares the age slope among the three levels of education for males.</p>
<p>$H\tiny 0$:$\beta\tiny 1M$ = $\beta\tiny 2M$ = $\beta\tiny 3M$</p>
<p>This test is significant. The age slope significantly differs as a function of education among males.</p>
<p>The second test is like the first test, except that the comparisons are made for females.</p>
<p>$H\tiny 0$:$\beta\tiny 1F$ = $\beta\tiny 2F$ = $\beta\tiny 3F$</p>
<p>This test is also significant. Among females, the age slope significantly differs among the three levels of education.</p>
<h2 id="4-simple-contrasts-on-education-for-the-age-slope">4 Simple contrasts on education for the age slope</h2>
<p>We can further dissect the simple effects tested above by applying contrast coefficients to the education factor.For example, say that we used the ar. contrast operator to form reverse adjacent group comparisons.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  contrast ar.educ3#c.age@gender,nowald pveffects
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>    Contrasts of marginal linear predictions
    
    Margins: asbalanced
    
    ---------------------------------------------------------------
                           |   Contrast   Std. err.      t    P&gt;|t|
    -----------------------+---------------------------------------
        educ3@gender#c.age |
      (HS vs not hs) Male  |     175.85      54.75     3.21   0.001
    (HS vs not hs) Female  |      95.54      26.84     3.56   0.000
        (Coll vs HS) Male  |     721.48      69.75    10.34   0.000
      (Coll vs HS) Female  |     387.13      49.39     7.84   0.000
    ---------------------------------------------------------------
</code></pre>
<h2 id="5-partial-interaction-on-education-for-the-age-slope">5 Partial interaction on education for the age slope</h2>
<p>The three-way interaction can be dissected by forming contrasts on the three-level categorical variable. Say that we use reverse adjacent group comparisons on education, which compares high school graduates with non–high school graduates and college graduates with high school graduates.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">  contrast ar.educ3#r.gender#c.age,nowald pveffects
</span></span></code></pre></td></tr></table>
</div>
</div><pre><code>    Contrasts of marginal linear predictions
    
    Margins: asbalanced
    
    -------------------------------------------------------------------------
                                     |   Contrast   Std. err.      t    P&gt;|t|
    ---------------------------------+---------------------------------------
                  educ3#gender#c.age |
    (HS vs not hs) (Female vs Male)  |     -80.31      60.95    -1.32   0.188
      (Coll vs HS) (Female vs Male)  |    -334.35      85.49    -3.91   0.000
    -------------------------------------------------------------------------
</code></pre>
<p>The first comparison tests the interaction of the contrast of high school graduates versus non–high school graduates by gender by age.</p>
<p>The difference in the age slope between high school graduates and non–high school graduates for females is 244.43 minus 148.89 (95.54). For males, this difference is 589.72 minus 413.87 (175.85). The difference in these differences is $-80.31$, which is not significant (see the first comparison from the margins command).The difference in the age slope comparing high school graduates with non–high school graduates is not significantly different for males and females.</p>
<p>The second test forms the same kind of comparison, but compares college graduates with high school graduates.</p>
<p>The difference in the age slope comparing female college graduates with female high school graduates is 631.56 minus 244.43 (387.13). This difference for males is 1,311.20 minus 589.72 (721.48). The difference of these differences is and is statistically significant (see the second comparison from the margins output). The increase in the age slope comparing college graduates with high school graduates is greater for males than it is for females.</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2024-01-13</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/14.chapter14continuous-by-categorical-by-categorical-interactions/index.md" target="_blank">阅读原始文档</a>
                        </span></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/interaction/">Interaction</a>,&nbsp;<a href="/tags/stata/">stata</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/15.chapter15multilevel-models/" class="prev" rel="prev" title="Chapter15 ：Multilevel models"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>Chapter15 ：Multilevel models</a>
            <a href="/17.chapter17time-as-a-categorical-predictor/" class="next" rel="next" title="Chapter17 ：Time as a categorical predictor">Chapter17 ：Time as a categorical predictor<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="valine" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://valine.js.org/">Valine</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2023 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Alex_Wang</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/valine/valine.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/valine@1.5.0/dist/Valine.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/copy-tex.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":50},"comment":{"valine":{"appId":"QGzwQXOqs5JOhN4RGPOkR2mR-MdYXbMMI","appKey":"WBmoGyJtbqUswvfLh6L8iEBr","avatar":"mp","el":"#valine","emojiCDN":"https://cdn.jsdelivr.net/npm/emoji-datasource-google@14.0.0/img/google/64/","emojiMaps":{"100":"1f4af.png","alien":"1f47d.png","anger":"1f4a2.png","angry":"1f620.png","anguished":"1f627.png","astonished":"1f632.png","black_heart":"1f5a4.png","blue_heart":"1f499.png","blush":"1f60a.png","bomb":"1f4a3.png","boom":"1f4a5.png","broken_heart":"1f494.png","brown_heart":"1f90e.png","clown_face":"1f921.png","cold_face":"1f976.png","cold_sweat":"1f630.png","confounded":"1f616.png","confused":"1f615.png","cry":"1f622.png","crying_cat_face":"1f63f.png","cupid":"1f498.png","dash":"1f4a8.png","disappointed":"1f61e.png","disappointed_relieved":"1f625.png","dizzy":"1f4ab.png","dizzy_face":"1f635.png","drooling_face":"1f924.png","exploding_head":"1f92f.png","expressionless":"1f611.png","face_vomiting":"1f92e.png","face_with_cowboy_hat":"1f920.png","face_with_hand_over_mouth":"1f92d.png","face_with_head_bandage":"1f915.png","face_with_monocle":"1f9d0.png","face_with_raised_eyebrow":"1f928.png","face_with_rolling_eyes":"1f644.png","face_with_symbols_on_mouth":"1f92c.png","face_with_thermometer":"1f912.png","fearful":"1f628.png","flushed":"1f633.png","frowning":"1f626.png","ghost":"1f47b.png","gift_heart":"1f49d.png","green_heart":"1f49a.png","grimacing":"1f62c.png","grin":"1f601.png","grinning":"1f600.png","hankey":"1f4a9.png","hear_no_evil":"1f649.png","heart":"2764-fe0f.png","heart_decoration":"1f49f.png","heart_eyes":"1f60d.png","heart_eyes_cat":"1f63b.png","heartbeat":"1f493.png","heartpulse":"1f497.png","heavy_heart_exclamation_mark_ornament":"2763-fe0f.png","hole":"1f573-fe0f.png","hot_face":"1f975.png","hugging_face":"1f917.png","hushed":"1f62f.png","imp":"1f47f.png","innocent":"1f607.png","japanese_goblin":"1f47a.png","japanese_ogre":"1f479.png","joy":"1f602.png","joy_cat":"1f639.png","kiss":"1f48b.png","kissing":"1f617.png","kissing_cat":"1f63d.png","kissing_closed_eyes":"1f61a.png","kissing_heart":"1f618.png","kissing_smiling_eyes":"1f619.png","laughing":"1f606.png","left_speech_bubble":"1f5e8-fe0f.png","love_letter":"1f48c.png","lying_face":"1f925.png","mask":"1f637.png","money_mouth_face":"1f911.png","nauseated_face":"1f922.png","nerd_face":"1f913.png","neutral_face":"1f610.png","no_mouth":"1f636.png","open_mouth":"1f62e.png","orange_heart":"1f9e1.png","partying_face":"1f973.png","pensive":"1f614.png","persevere":"1f623.png","pleading_face":"1f97a.png","pouting_cat":"1f63e.png","purple_heart":"1f49c.png","rage":"1f621.png","relaxed":"263a-fe0f.png","relieved":"1f60c.png","revolving_hearts":"1f49e.png","right_anger_bubble":"1f5ef-fe0f.png","robot_face":"1f916.png","rolling_on_the_floor_laughing":"1f923.png","scream":"1f631.png","scream_cat":"1f640.png","see_no_evil":"1f648.png","shushing_face":"1f92b.png","skull":"1f480.png","skull_and_crossbones":"2620-fe0f.png","sleeping":"1f634.png","sleepy":"1f62a.png","slightly_frowning_face":"1f641.png","slightly_smiling_face":"1f642.png","smile":"1f604.png","smile_cat":"1f638.png","smiley":"1f603.png","smiley_cat":"1f63a.png","smiling_face_with_3_hearts":"1f970.png","smiling_imp":"1f608.png","smirk":"1f60f.png","smirk_cat":"1f63c.png","sneezing_face":"1f927.png","sob":"1f62d.png","space_invader":"1f47e.png","sparkling_heart":"1f496.png","speak_no_evil":"1f64a.png","speech_balloon":"1f4ac.png","star-struck":"1f929.png","stuck_out_tongue":"1f61b.png","stuck_out_tongue_closed_eyes":"1f61d.png","stuck_out_tongue_winking_eye":"1f61c.png","sunglasses":"1f60e.png","sweat":"1f613.png","sweat_drops":"1f4a6.png","sweat_smile":"1f605.png","thinking_face":"1f914.png","thought_balloon":"1f4ad.png","tired_face":"1f62b.png","triumph":"1f624.png","two_hearts":"1f495.png","unamused":"1f612.png","upside_down_face":"1f643.png","weary":"1f629.png","white_frowning_face":"2639-fe0f.png","white_heart":"1f90d.png","wink":"1f609.png","woozy_face":"1f974.png","worried":"1f61f.png","yawning_face":"1f971.png","yellow_heart":"1f49b.png","yum":"1f60b.png","zany_face":"1f92a.png","zipper_mouth_face":"1f910.png","zzz":"1f4a4.png"},"enableQQ":false,"highlight":true,"lang":"zh-CN","pageSize":10,"placeholder":"你的评论 ...","recordIP":true,"serverURLs":"https://leancloud.hugoloveit.com","visitor":true}},"lightgallery":true,"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":true,"left":"\\begin{equation}","right":"\\end{equation}"},{"display":true,"left":"\\begin{equation*}","right":"\\end{equation*}"},{"display":true,"left":"\\begin{align}","right":"\\end{align}"},{"display":true,"left":"\\begin{align*}","right":"\\end{align*}"},{"display":true,"left":"\\begin{alignat}","right":"\\end{alignat}"},{"display":true,"left":"\\begin{alignat*}","right":"\\end{alignat*}"},{"display":true,"left":"\\begin{gather}","right":"\\end{gather}"},{"display":true,"left":"\\begin{CD}","right":"\\end{CD}"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"algoliaAppID":"PASDMWALPK","algoliaIndex":"index.zh-cn","algoliaSearchKey":"b42948e51daaa93df92381c8e2ac0f93","highlightTag":"em","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
